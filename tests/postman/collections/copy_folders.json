{
	"variables": [],
	"info": {
		"name": "Copy folders",
		"_postman_id": "bd1654f7-09ec-f4b0-3539-c839d4b0dd98",
		"description": "Required variables in Postman environment\nPID - project node_id\nPID2 - project node_id\nprovider - provider name to test e.g. dropbox\nalt_provider - provider name for inter provider testing\n\nprovider and alt_provider must be setup in both PID and PID2 with the same root folder\n\nIn addition to extensive folder copying, this collection will test...\n\nCreating directories\nUploading small files\nUpload relpacing small files\nDeleting files\nDeleting directories - with contents\nGetting metadata",
		"schema": "https://schema.getpostman.com/json/collection/v2.0.0/collection.json"
	},
	"item": [
		{
			"name": "10. Copy folder1 to folder2 new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 copy (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_size\", data.data.attributes.size);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to folder2 replace",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder1_path_after\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to folder2 keep",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2/folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{folder1_path_after}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "11. Copy folder1 to folder2 rename new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to folder2 rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"rename\":   \"folder3\",\n    \"conflict\": \"warn\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 copy (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to folder2 rename replace",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder3_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"rename\":   \"folder3\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "get folder2/folder3 metadata",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_path_after\", data.data[0].attributes.path);",
									"tests[\"confirm size\"] = data.data[0].attributes.size == environment.file1_size;",
									"tests[\"confirm kind\"] = data.data[0].attributes.kind === 'file';",
									"tests[\"confirm path\"] = data.data[0].attributes.materialized === '/folder2/folder3/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{folder3_path}}",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to folder2 rename keep",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"rename\":   \"folder3\",\n    \"conflict\": \"keep\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder3",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{folder3_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "12. Copy folder1 to PID2 folder2 new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2 PID2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"resource\": \"{{PID2}}\",\n    \"path\":     \"{{pid2_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 copy (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 folder2 replace",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder1_path_after\", data.data.attributes.path);",
									"tests[\"confirm new etag\"] = data.data.attributes.etag != environment.prov_file1_etag;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"resource\": \"{{PID2}}\",\n    \"path\":     \"{{pid2_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 folder2 keep",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"resource\": \"{{PID2}}\",\n    \"path\":     \"{{pid2_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2/folder1 PID2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{provider}}{{folder1_path_after}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2 PID2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{provider}}{{pid2_prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "13. Copy folder1 to PID2 folder2 rename new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2 PID2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 folder2 rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"rename\":   \"folder3\",\n    \"resource\": \"{{PID2}}\",\n    \"path\":     \"{{pid2_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 copy (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 folder2 replace rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder3_path\", data.data.attributes.path);",
									"tests[\"confirm new etag\"] = data.data.attributes.etag != environment.prov_file1_etag;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"rename\":   \"folder3\",\n    \"resource\": \"{{PID2}}\",\n    \"path\":     \"{{pid2_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 folder2 keep rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"rename\":   \"folder3\",\n    \"resource\": \"{{PID2}}\",\n    \"path\":     \"{{pid2_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1 PID2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{provider}}{{folder3_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2 PID2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{provider}}{{pid2_prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "14. Copy folder1 to alt_provider folder2 new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"alt_prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to alt_provider folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 copy (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_size\", data.data.attributes.size);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to alt_provider folder2 replace",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder1_path_after\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "get folder2/folder1 alt_provider  metadata",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_path_after\", data.data[0].attributes.path);",
									"tests[\"confirm size\"] = data.data[0].attributes.size == environment.file1_size;",
									"tests[\"confirm resource\"] = data.data[0].attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data[0].attributes.kind === 'file';",
									"tests[\"confirm path\"] = data.data[0].attributes.materialized === '/folder2/folder1/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{folder1_path_after}}",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to alt_provider folder2 keep",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete file1 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{file1_path_after}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "15. Copy folder1 to alt_provider folder2 rename new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"alt_prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to alt_provider folder2 rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"rename\":   \"folder3\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 copy (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"postman.setEnvironmentVariable(\"file1_size\", data.data.attributes.size);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to alt_provider folder2 replace rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder3_path_after\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"rename\":   \"folder3\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "get folder2/folder3 alt_provider  metadata",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_path_after\", data.data[0].attributes.path);",
									"tests[\"confirm size\"] = data.data[0].attributes.size == environment.file1_size;",
									"tests[\"confirm resource\"] = data.data[0].attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data[0].attributes.kind === 'file';",
									"tests[\"confirm path\"] = data.data[0].attributes.materialized === '/folder2/folder3/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{folder3_path_after}}",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to alt_provider folder2 keep rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"rename\":   \"folder3\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder3 copy alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{folder3_path_after}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "16. Copy folder1 from alt_provider new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"alt_prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"alt_prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy alt_provider folder1 to folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';",
									"tests[\"confirm child path\"] = data.data.attributes.children[0].materialized === '/folder2/folder1/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"provider\": \"{{provider}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to alt_provider folder1 copy (new content) copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_size\", data.data.attributes.size);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy alt_provider folder1 to folder2 replace",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder1_path_after\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"provider\": \"{{provider}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "get folder2/folder1  metadata",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_path_after\", data.data[0].attributes.path);",
									"tests[\"confirm size\"] = data.data[0].attributes.size == environment.file1_size;",
									"tests[\"confirm resource\"] = data.data[0].attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data[0].attributes.kind === 'file';",
									"tests[\"confirm path\"] = data.data[0].attributes.materialized === '/folder2/folder1/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{folder1_path_after}}",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 from alt_provider keep",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"provider\": \"{{provider}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete file1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{file1_path_after}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "17. Copy folder1 from alt_provider rename new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"alt_prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"alt_prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy alt_provider folder1 to folder2 rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';",
									"tests[\"confirm child path\"] = data.data.attributes.children[0].materialized === '/folder2/folder3/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"rename\":   \"folder3\",\n    \"provider\": \"{{provider}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to alt_provider folder1 copy (new content) copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_size\", data.data.attributes.size);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy alt_provider folder1 to folder2 replace rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder3_path\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"rename\":   \"folder3\",\n    \"provider\": \"{{provider}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "get folder2/folder3  metadata",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_path_after\", data.data[0].attributes.path);",
									"tests[\"confirm size\"] = data.data[0].attributes.size == environment.file1_size;",
									"tests[\"confirm resource\"] = data.data[0].attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data[0].attributes.kind === 'file';",
									"tests[\"confirm path\"] = data.data[0].attributes.materialized === '/folder2/folder3/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{folder3_path}}",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to alt_provider folder2 keep rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"rename\":   \"folder3\",\n    \"provider\": \"{{provider}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder3",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{folder3_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{alt_provider}}{{alt_prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "18. Copy folder1 to PID2 alt_provider folder2 new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create PID2 alt_provider folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 alt_provider folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_folder1_path_after\", data.data.attributes.path);",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"resource\": \"{{PID2}}\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{pid2_alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 copy (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"postman.setEnvironmentVariable(\"file1_size\", data.data.attributes.size);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 alt_provider folder2 replace",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder1_path_after\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"provider\": \"{{alt_provider}}\",\n    \"resource\": \"{{PID2}}\",\n    \"path\":     \"{{pid2_alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "get folder2/folder1  metadata",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_path_after\", data.data[0].attributes.path);",
									"tests[\"confirm size\"] = data.data[0].attributes.size == environment.file1_size;",
									"tests[\"confirm resource\"] = data.data[0].attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data[0].attributes.kind === 'file';",
									"tests[\"confirm path\"] = data.data[0].attributes.materialized === '/folder2/folder1/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{folder1_path_after}}",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 alt_provider folder2 keep",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"resource\": \"{{PID2}}\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{pid2_alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete file1 PID2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{file1_path_after}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete PID2 alt_provider folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "19. Copy folder1 to PID2 alt_provider folder2 rename new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create PID2 alt_provider folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 alt_provider folder2 rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"rename\":   \"folder3\",\n    \"resource\": \"{{PID2}}\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{pid2_alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 copy (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_size\", data.data.attributes.size);",
									"postman.setEnvironmentVariable(\"prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 alt_provider folder2 replace rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder3_path_after\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"rename\":   \"folder3\",\n    \"provider\": \"{{alt_provider}}\",\n    \"resource\": \"{{PID2}}\",\n    \"path\":     \"{{pid2_alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "get folder2/folder3  metadata copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_path_after\", data.data[0].attributes.path);",
									"tests[\"confirm size\"] = data.data[0].attributes.size == environment.file1_size;",
									"tests[\"confirm resource\"] = data.data[0].attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data[0].attributes.kind === 'file';",
									"tests[\"confirm path\"] = data.data[0].attributes.materialized === '/folder2/folder3/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{folder3_path_after}}",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy folder1 to PID2 alt_provider folder2 keep rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"rename\":   \"folder3\",\n    \"resource\": \"{{PID2}}\",\n    \"provider\": \"{{alt_provider}}\",\n    \"path\":     \"{{pid2_alt_prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete file2 alt_provider PID2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{folder3_path_after}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete PID2 alt_provider folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "20. Copy folder1 from PID2 alt_provider folder1 new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1 PID2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 PID2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy PID2 alt_provider folder1 to folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_folder1_size\", data.data.attributes.size);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"resource\": \"{{PID}}\",\n    \"provider\": \"{{provider}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to PID2 alt_provider folder1 (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_file1_path\", data.data.attributes.path);",
									"postman.setEnvironmentVariable(\"file1_size\", data.data.attributes.size);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy PID2 alt_provider folder1 to folder2 replace",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder1_path_after\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"provider\": \"{{provider}}\",\n    \"resource\": \"{{PID}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "get folder2/folder1  metadata copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_path_after\", data.data[0].attributes.path);",
									"tests[\"confirm size\"] = data.data[0].attributes.size == environment.file1_size;",
									"tests[\"confirm resource\"] = data.data[0].attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data[0].attributes.kind === 'file';",
									"tests[\"confirm path\"] = data.data[0].attributes.materialized === '/folder2/folder1/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{folder1_path_after}}",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy PID2 alt_provider folder1 to folder2 keep",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder1 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"provider\": \"{{provider}}\",\n    \"resource\": \"{{PID}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete file1",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{file1_path_after}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1 PID2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		},
		{
			"name": "21. Copy folder1 from PID2 alt_provider folder1 rename new/replace/keep",
			"description": "",
			"item": [
				{
					"name": "root create folder1 PID2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_folder1_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}/?kind=folder&name=folder1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "root create folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"prov_folder2_path\", data.data.attributes.path);",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}/?kind=folder&name=folder2",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to folder1 PID2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}?kind=file&name=file1",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy PID2 alt_provider folder1 to folder2 rename",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"warn\",\n    \"rename\":   \"folder3\",\n    \"resource\": \"{{PID}}\",\n    \"provider\": \"{{provider}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "upload file1 to PID2 alt_provider folder1 (new content)",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_size\", data.data.attributes.size);",
									"postman.setEnvironmentVariable(\"pid2_alt_prov_file1_path\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.alt_provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID2;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'file';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_file1_path}}?kind=file",
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "file1 new content"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy PID2 alt_provider folder1 to folder2 rename replace",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"folder3_path_after\", data.data.attributes.path);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"rename\":   \"folder3\",\n    \"provider\": \"{{provider}}\",\n    \"resource\": \"{{PID}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "get folder2/folder3  metadata copy copy",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 200\"] = responseCode.code === 200;",
									"var data = JSON.parse(responseBody);",
									"postman.setEnvironmentVariable(\"file1_path_after\", data.data[0].attributes.path);",
									"tests[\"confirm size\"] = data.data[0].attributes.size == environment.file1_size;",
									"tests[\"confirm resource\"] = data.data[0].attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data[0].attributes.kind === 'file';",
									"tests[\"confirm path\"] = data.data[0].attributes.materialized === '/folder2/folder3/file1';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{folder3_path_after}}",
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"replace\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "copy PID2 alt_provider folder1 to folder2 rename keep",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 201\"] = responseCode.code === 201;",
									"var data = JSON.parse(responseBody);",
									"tests[\"confirm provider\"] = data.data.attributes.provider === environment.provider;",
									"tests[\"confirm resource\"] = data.data.attributes.resource === environment.PID;",
									"tests[\"confirm kind\"] = data.data.attributes.kind === 'folder';",
									"tests[\"confirm path\"] = data.data.attributes.materialized === '/folder2/folder3 (1)/';"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}",
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"action\":   \"copy\",\n    \"conflict\": \"keep\",\n    \"rename\":   \"folder3\",\n    \"provider\": \"{{provider}}\",\n    \"resource\": \"{{PID}}\",\n    \"path\":     \"{{prov_folder2_path}}\"\n}"
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder3",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{folder3_path_after}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder1 PID2 alt_provider",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID2}}/providers/{{alt_provider}}{{pid2_alt_prov_folder1_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				},
				{
					"name": "delete folder2",
					"event": [
						{
							"listen": "test",
							"script": {
								"type": "text/javascript",
								"exec": [
									"tests[\"Status code is 204\"] = responseCode.code === 204;"
								]
							}
						}
					],
					"request": {
						"url": "{{protocol}}{{host}}{{port}}/v1/resources/{{PID}}/providers/{{provider}}{{prov_folder2_path}}",
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Basic {{basic_auth}}",
								"description": ""
							}
						],
						"body": {
							"mode": "raw",
							"raw": ""
						},
						"description": ""
					},
					"response": []
				}
			]
		}
	]
}